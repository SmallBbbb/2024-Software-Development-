<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>动态显示JSON数据</title>
  <!-- 引入jQuery库 -->
  <script
          src="https://code.jquery.com/jquery-3.7.1.js"
          integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4="
          crossorigin="anonymous"></script>
  <script>
    $(document).ready(function() {
      // 使用jQuery的$.ajax方法发送GET请求到Servlet
      $.ajax({
        url: '/PetPlatform_war/jsonData', // 指定请求的URL，应与Servlet的映射URL相匹配
        type: 'GET', // 请求类型
        dataType: 'json', // 预期服务器返回的数据类型
        success: function(data) {
          // 获取页面上的<ul>元素
          var list = $('#dataList');
          // 清空列表中的现有内容
          list.empty();
          // 遍历返回的JSON数组，并为每个对象创建<li>元素添加到列表中
          data.forEach(function(item) {
            list.append('<li>' + item.name + ', ' + item.age + ', ' + item.job + '</li>');
          });
        },
        error: function(jqXHR, textStatus, errorThrown) {
          // 如果请求失败，则在控制台输出错误信息
          console.error("请求失败: " + textStatus, errorThrown);
        }
      });
    });
  </script>
</head>
<body>
<h1>在此处显示列表</h1>
<!-- 定义一个<ul>元素，用于动态显示从服务器接收到的数据 -->
<ul id="dataList"></ul>
</body>
</html>